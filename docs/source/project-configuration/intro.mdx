---
title: Project configuration
description: Structuring a GraphQL application with the Apollo iOS SDK
---

Apollo iOS 1.0 can support complex applications composed of multiple modules _and_ monolithic application targets.

The code generation engine and modularized structure of the Apollo iOS SDK provide flexible configuration options, enabling you to structure your project as you like.

This article covers the _models_ generated by Apollo iOS, the _modules_ that compose the Apollo iOS SDK, and how to structure these components in your project.

## Generated models

Apollo iOS generates the following groups of files for you:

* **[Operation models](#operation-models):** Models for the queries, mutations, subscriptions, and fragments defined in your GraphQL files.
* **[Schema types](#schema-types):** Your GraphQL schema's shared types and metadata (e.g., objects, enums, input objects).
* **[Test mocks](#test-mocks):** Test mock objects for your schema types, which you can use to create operation models in your tests.

#### Operation models

Apollo iOS generates _operation models_ from the files where you define your GraphQL operations (i.e., queries, mutations, subscriptions, and fragments).

Operation models are classes that represent your GraphQL operations, which you can then use to make GraphQL requests (via `ApolloClient`).

Each operation model includes a set of type-safe response model objects, representing that operation's result. When `ApolloClient` successfully executes a GraphQL request, it returns an instance of the corresponding response model for the executed operation.

> To learn more about GraphQL operations, check out [Defining operations](./fetching/fetching-data#defining-operations).

#### Schema types

GraphQL schemas use a type system to define the shape of your available data. GraphQL operations (and your generated operation models) depend on a schema to know how to shape their operations to access a server's data.

Apollo iOS generates a collection of types that provide the properties and metadata about each type in your GraphQL schema (i.e., objects, interfaces, unions, enums, input objects, etc.). Your generated [operation models](#operation-models) reference these shared schema types to provide type information without duplicating code.

#### Test mocks

Apollo iOS enables you to generate test mock objects that you can use in your test targets. These mocks enable you to create operation models for your tests.

For more details, see [Test Mocks](./testing/test-mocks).

## Structuring your project

When including Apollo iOS in a new project, deciding _how_ to structure your project is an essential first step. A large part of this step is determining where your generated GraphQL models fit.

You can include your GraphQL models in your main application target, spread them across many modules, or expose them as an independent module that multiple applications can use. Depending on the needs and constraints of your project, you'll configure the code generation engine and link to the Apollo iOS libraries differently.

There are three primary decisions you'll need to make about your project structure when using Apollo iOS:

1. Will your project interact with Apollo in a single target or through multiple modules?
2. Which schema `moduleType` should you use?
3. Where should your generated operation models be located?

Over the next few pages, we will cover the each of these questions and the possible choices for each.

### Supporting other configurations

Above, we've shared the most common examples of modular architecture, but there are many alternative configurations we haven't covered.

Apollo iOS has different options to support flexible configurations of your schema types and operation models. We recommend familiarizing yourself with Apollo iOS's [codegen configuration](./code-generation/codegen-configuration) to find a combination that best suits your project needs.

## Apollo iOS SDK components

> **For Cocoapods users:**
>
> Cocoapods combines subspecs into a single target. This means that:
> - The [`ApolloAPI`](#apolloapi) is merged into the [`Apollo`](#apollo) target.
> - If you use the [`ApolloSQLite`](#apollosqlite) and [`ApolloWebSocket`](#apollowebsocket) subspecs, they are also merged into the `Apollo` target.

Libraries that compose the Apollo iOS package:

<table class="api-ref">
  <thead>
    <tr>
      <th>Description</th>
      <th>Usage</th>
    </tr>
  </thead>

<tbody>
<tr>
<td colspan="2">

#### `Apollo`

</td>
</tr>

<tr>
<td>

The core Apollo client library.

Includes the networking and caching APIs, including `ApolloClient` and `ApolloStore`.

</td>
<td>

Any targets that need to access these core components directly should be linked against `Apollo`.

</td>
</tr>
<tr>
<td colspan="2">

#### `ApolloAPI`

</td>
</tr>

<tr>
<td>

Includes the common components that generated models use for your project.

</td>
<td>

Any targets that include your generated models should be linked to `ApolloAPI`.

The `Apollo` library has a dependency on this target, so any target that links to `Apollo` doesn't need to link to  `ApolloAPI` directly.

Because generated models export the `ApolloAPI` library's interface, targets that consume generated models but don't _contain_ them don't need to link to `ApolloAPI` directly.

</td>
</tr>

<tr>
<td colspan="2">

#### `ApolloSQLite`

</td>
</tr>

<tr>
<td>

Provides a `NormalizedCache` implementation backed by a `SQLite` database.

</td>
<td>

Use this library if you'd like to persist cache data across application lifecycles. This library only needs to be linked to your targets that configure the `SQLiteNormalizedCache` and pass it to the `ApolloStore`.

For more information on setting up a persistent SQLite cache, see[`SQLiteNormalizedCache`](./caching/cache-setup#sqlitenormalizedcache).

</td>
</tr>

<tr>
<td colspan="2">

#### `ApolloWebSocket`

</td>
</tr>

<tr>
<td>

Provides a web socket transport implementation that supports `GraphQLSubscription` operations.

</td>
<td>

If your project uses GraphQL subscriptions, you **must** include this library. This library only needs to be linked to your targets that configure the `WebSocketTransport` and pass it to the `ApolloClient`.

For more information, see [Enabling GraphQL subscription support](./fetching/subscriptions#enabling-graphql-subscription-support).

</td>
</tr>

<tr>
<td colspan="2">

#### `ApolloTestSupport`

</td>
</tr>

<tr>
<td>

Includes the APIs for creating test mocks for your generated models

</td>
<td>

Link this library to *unit test targets* that need to create mocks of generated models.

</td>
</tr>

<tr>
<td colspan="2">

#### `ApolloCodegenLib`

</td>
</tr>

<tr>
<td>

Includes the code generation engine for generating GraphQL models.

For most projects, **we strongly recommend using the Codegen CLI** instead of using `ApolloCodegenLib` directly.

</td>
<td>

Use this library if you want to run the code generation engine from your own Swift executable targets.

Link this library to development tools that want to use the Apollo code generation engine. This library only supports macOS.

**`ApolloCodegenLib` shouldn't be linked to your application targets.**

</td>
</tr>

</tbody>
</table>
