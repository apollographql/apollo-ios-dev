query TestComplexQuery($after: String, $before: String, $first: Int, $last: Int) {
    allFilms(after: $after, before: $before, first: $first, last: $last) {
        films {
            ...FilmFragment
        }
    }
}

fragment NodeFragment on Node {
    id
    ...on Person {
        name
        goodOrBad
        homeworld {
            name
        }
    }
    ...PlanetInfo
    ...PersonOrPlanetInfo
}

fragment PlanetInfo on Planet {
    name
    orbitalPeriod
}

fragment PersonOrPlanetInfo on PersonOrPlanet {
    ...on Person {
        nestedStringArray
        nestedPlanetArray {
            name
        }
        homeworld {
            climates
        }
    }
    ...on Planet {
        climates
        diameter
    }
}